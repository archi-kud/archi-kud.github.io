(function(e){function t(t){for(var r,a,u=t[0],l=t[1],s=t[2],d=0,p=[];d<u.length;d++)a=u[d],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&p.push(o[a][0]),o[a]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);i&&i(t);while(p.length)p.shift()();return c.push.apply(c,s||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],r=!0,u=1;u<n.length;u++){var l=n[u];0!==o[l]&&(r=!1)}r&&(c.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},o={app:0},c=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var s=0;s<u.length;s++)t(u[s]);var i=l;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"0624":function(e,t,n){},"066a":function(e,t,n){"use strict";n("2af3")},"2af3":function(e,t,n){},"2c4f":function(e,t,n){"use strict";n("0624")},"4ddc":function(e,t,n){},"8e1f":function(e,t,n){},aeb4:function(e,t,n){},b231:function(e,t,n){"use strict";n("aeb4")},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23");function o(e,t,n,o,c,a){var u=Object(r["l"])("Hotels"),l=Object(r["l"])("OrderForm");return Object(r["h"])(),Object(r["c"])(r["a"],null,[Object(r["e"])(u),Object(r["e"])(l)],64)}n("b0c0");var c={class:"Hotels"},a=Object(r["e"])("h3",{class:"Hotels__title"}," Выберите отель ",-1),u={class:"Hotels__list"},l={class:"Hotels__itemName"};function s(e,t,n,o,s,i){return Object(r["h"])(),Object(r["c"])("div",c,[a,Object(r["e"])("ul",u,[(Object(r["h"])(!0),Object(r["c"])(r["a"],null,Object(r["j"])(e.hotels,(function(t){var n=t.id,o=t.name,c=t.image;return Object(r["h"])(),Object(r["c"])("li",{key:n,class:e.getItemClassName(n),onClick:function(t){return e.onItemClick(n)}},[Object(r["e"])("img",{class:"Hotels__itemImage",src:c},null,8,["src"]),Object(r["e"])("span",l,Object(r["m"])(o),1)],10,["onClick"])})),128))])])}var i=n("5530"),d=n("5502"),p=Object(r["f"])({name:"Hotels",computed:Object(i["a"])(Object(i["a"])({},Object(d["c"])("hotels",["hotels"])),Object(d["c"])("order",["order"])),methods:Object(i["a"])(Object(i["a"])(Object(i["a"])({},Object(d["b"])("hotels",["getHotels"])),Object(d["b"])("order",["selectHotel"])),{},{isSelectedHostel:function(e){return this.order.hotelId===e},getItemClassName:function(e){var t={Hotels__item:!0,"Hotels__item--selected":this.isSelectedHostel(e)};return t},onItemClick:function(e){this.selectHotel(e),this.scrollToOrderForm()},scrollToOrderForm:function(){var e=document.querySelector(".OrderForm");if(e){var t=e.querySelector('.Input[name="name"]');t&&this.$nextTick((function(){t.focus(),e.scrollIntoView()}))}}}),created:function(){this.getHotels()}});n("f84f");p.render=s;var f=p,m={class:"OrderForm__title"},b=Object(r["d"])(" Отправить заявку ");function O(e,t,n,o,c,a){var u=Object(r["l"])("Input"),l=Object(r["l"])("Button");return Object(r["h"])(),Object(r["c"])("form",{class:"OrderForm",onSubmit:t[1]||(t[1]=function(){return e.onFormSubmit&&e.onFormSubmit.apply(e,arguments)})},[Object(r["e"])("h3",m,Object(r["m"])(e.title),1),Object(r["e"])(u,{name:"name",placeholder:"Имя",value:e.order.name,disabled:!e.isSelectHotel,onInput:e.onInputChange},null,8,["value","disabled","onInput"]),Object(r["e"])(u,{name:"surname",placeholder:"Фамилия",value:e.order.surname,disabled:!e.isSelectHotel,onInput:e.onInputChange},null,8,["value","disabled","onInput"]),Object(r["e"])(u,{name:"email",placeholder:"Email",value:e.order.email,disabled:!e.isSelectHotel,onInput:e.onInputChange},null,8,["value","disabled","onInput"]),Object(r["e"])(u,{name:"phone",placeholder:"Телефон",value:e.order.phone,disabled:!e.isSelectHotel,onInput:e.onInputChange},null,8,["value","disabled","onInput"]),Object(r["e"])(l,{disabled:!e.isSelectHotel||!e.isOrderFull||e.isMade},{default:Object(r["o"])((function(){return[b]})),_:1},8,["disabled"])],32)}n("498a");var h={class:"Input"};function j(e,t,n,o,c,a){return Object(r["h"])(),Object(r["c"])("input",h)}var v=Object(r["f"])({name:"Input"});n("066a");v.render=j;var g=v,H={class:"Button"};function I(e,t,n,o,c,a){return Object(r["h"])(),Object(r["c"])("button",H,[Object(r["k"])(e.$slots,"default")])}var k=Object(r["f"])({name:"Button"});n("b231");k.render=I;var y=k,_=Object(r["f"])({name:"OrderForm",components:{Input:g,Button:y},computed:Object(i["a"])(Object(i["a"])({},Object(d["c"])("order",["order","isMade"])),{},{title:function(){return this.isMade?"Ваша заявка отправлена":"Заполните форму"},isSelectHotel:function(){return null!==this.order.hotelId},isOrderFull:function(){var e=this.order,t=e.name,n=e.surname,r=e.email,o=e.phone;return t&&n&&r&&o}}),methods:Object(i["a"])(Object(i["a"])({},Object(d["b"])("order",["updateOrder","makeOrder"])),{},{onInputChange:function(e){var t=e.target,n=t.name,r=t.value.trim();this.updateOrder({name:n,value:r})},onFormSubmit:function(e){e.preventDefault(),this.isOrderFull&&this.makeOrder()}})});n("ee4a");_.render=O;var S=_,w=Object(r["f"])({name:"App",components:{Hotels:f,OrderForm:S}});n("2c4f");w.render=o;var x,M,F=w,C=(n("96cf"),n("1da1"));function R(e){return e[Math.floor(Math.random()*e.length)]}(function(e){e["GetHotels"]="getHotels"})(x||(x={})),function(e){e["SetHotels"]="setHotels"}(M||(M={}));var P=R,T=["https://hotel-spb.ru/assets/components/phpthumbof/cache/room-business_002.788c4c20502cae038e66e118c369e7b7.jpg","https://gkkiparis.ru/wp-content/uploads/2019/07/amd-190712-151320-98961-1024x683.jpg","https://yaltaintourist.ru/upload/resize_cache/iblock/80f/1162_775_1/01112016-1.jpg","https://lexx-crimea.ru/sites/default/files/inline-images/28_05_2019%20Shelyakin%20(139)_0.jpg","https://cf.bstatic.com/images/hotel/max1024x768/219/219201723.jpg"];function N(){return B.apply(this,arguments)}function B(){return B=Object(C["a"])(regeneratorRuntime.mark((function e(){var t,n,r,o,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(t=[],n=1;n<=20;n++)r={id:"".concat(n),name:"Отель ".concat(n),image:P(T)},t.push(r);return o=JSON.stringify(t),c=new Response(o),e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)}))),B.apply(this,arguments)}var J,U,q={hotels:[]},A={getHotels:function(e){return Object(C["a"])(regeneratorRuntime.mark((function t(){var n,r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.next=3,N();case 3:if(r=t.sent,!r.ok){t.next=9;break}return t.next=7,r.json();case 7:o=t.sent,n(M.SetHotels,o);case 9:case"end":return t.stop()}}),t)})))()}},$={setHotels:function(e,t){e.hotels=t}},z={state:q,actions:A,mutations:$,namespaced:!0},D=z;function E(e){return G.apply(this,arguments)}function G(){return G=Object(C["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=JSON.stringify(t),r=new Response(n),e.abrupt("return",r);case 3:case"end":return e.stop()}}),e)}))),G.apply(this,arguments)}(function(e){e["SelectHotel"]="selectHotel",e["UpdateOrder"]="updateOrder",e["MakeOrder"]="makeOrder"})(J||(J={})),function(e){e["SelectHotel"]="selectHotel",e["UpdateOrder"]="updateOrder",e["MakeOrder"]="makeOrder"}(U||(U={}));var V={order:{hotelId:null,name:"",surname:"",email:"",phone:""},isMade:!1},K={selectHotel:function(e,t){var n=e.commit;n(U.SelectHotel,t)},updateOrder:function(e,t){var n=e.commit;n(U.UpdateOrder,t)},makeOrder:function(e){return Object(C["a"])(regeneratorRuntime.mark((function t(){var n,r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,r=e.state,t.next=3,E(r.order);case 3:o=t.sent,o.ok&&n(U.MakeOrder);case 5:case"end":return t.stop()}}),t)})))()}},L={selectHotel:function(e,t){var n=e.order;n.hotelId===t?n.hotelId=null:n.hotelId=t},updateOrder:function(e,t){var n=e.order,r=t.name,o=t.value;n[r]=o},makeOrder:function(e){e.order={hotelId:null,name:"",surname:"",email:"",phone:""},e.isMade=!0,setTimeout((function(){return e.isMade=!1}),2e3)}},Q={state:V,actions:K,mutations:L,namespaced:!0},W=Q,X={hotels:D,order:W},Y={modules:X},Z=Object(d["a"])(Y),ee=(n("8e1f"),Object(r["b"])(F));ee.use(Z),ee.mount("#App")},ee4a:function(e,t,n){"use strict";n("4ddc")},f555:function(e,t,n){},f84f:function(e,t,n){"use strict";n("f555")}});
//# sourceMappingURL=app.e45754df.js.map