{"version":3,"sources":["img/plus.svg","img/cross.svg","components/Column/ColumnTitle.js","components/Column/ColumnTaskListItem.js","components/Column/ColumnTaskList.js","components/Column/ColumnAdd.js","components/Column/ColumnAddForm.js","components/Column/Column.js","components/DragManager.js","components/BackgroundImage/BackgroundImageBlock.js","components/BackgroundImage/BackgroundImageUploader.js","index.js"],"names":["module","exports","__webpack_require__","p","ColumnTitle","props","titleDiv","react_default","a","createElement","className","onClick","openChangeForm","data-value","title","deleteColumn","columnId","src","imgSrc","alt","ColumnTaskListItem","id","taskId","text","deleteTask","ColumnTaskList","_this$props","this","tasks","revisedTasks","map","task","Column_ColumnTaskListItem","key","Component","ColumnAdd","class","openForm","ColumnAddForm","tag","placeholder","textfieldPlaceholder","ref","textfieldRef","columnTextfieldPlaceholder","addValue","plusImg","require","crossImg","Column","React","createRef","state","addFormOpen","openAddForm","textfield","_this","current","value","focus","setState","_ref","event","target","dataset","clicked","stopDrag","innerText","trim","classList","contains","replaceElement","changeValueFunc","changeValue","window","addEventListener","addColumnTask","addNewColumn","document","activeElement","updateColumnTitle","updateColumnTask","startDrag","removeEventListener","source","newType","newClassName","arguments","length","undefined","newElement","tagName","replaceWith","deleteColumnTask","addFormTag","addBtnText","addFormBtnText","addBtnClass","addFormClass","Column_ColumnTitle","ColumnTaskList_ColumnTaskList","Math","random","Column_ColumnAdd","Column_ColumnAddForm","itemShadow","DragManager","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","start","isMobile","checkMobileDrag","dragStart","drag","dragEnd","stop","cancelMobileDrag","clearTimeout","touchId","setTimeout","once","mainWrap","which","touches","findElement","dragItemClass","style","overflowX","overflowY","dragItem","item","width","getBoundingClientRect","height","clientX","targetTouches","clientY","shift","x","left","y","top","checkForScroll","dragAreaClass","dragArea","eventCoords","position","transform","pointerEvents","zIndex","area","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","children","Symbol","iterator","next","done","child","collideItems","remove","err","return","itemArea","appendChild","shadow","namedItem","collisionItem","collisionItemList","parentElement","prevElement","previousElementSibling","nextElement","nextElementSibling","getCollideDirection","insertBefore","insertAfter","prevColumnId","prevTaskId","newColumnId","setAttribute","push","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","updateColumnTasks","type","windowScrollId","columnScrollId","speed","adjustWindowScroll","itemCoords","step","documentCoords","documentElement","clientWidth","right","scrollLeft","columnTitle","columnAddBtn","columnTitleCoords","bottom","scrollTop","columnAddBtnCoords","attributeValue","element","elementFromPoint","item1","item2","item1Coords","item2Coords","refElement","test","navigator","userAgent","_this2","columns","react","column","Column_Column","assign","BackgroundImageBlock","backgroundImageBlockRef","BackgroundImageUploader","deleteBackgroundImage","htmlFor","onChange","addBackgroundImage","getElementById","Board","JSON","parse","localStorage","getItem","backgroundImageURL","newColumn","splice","setItem","stringify","newTask","newTitle","image","files","reader","FileReader","imageBlock","startsWith","onload","background","concat","result","backgroundSize","readAsDataURL","imageURL","DragManager_DragManager","BackgroundImage_BackgroundImageBlock","BackgroundImage_BackgroundImageUploader","ReactDOM","render","src_Board"],"mappings":"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","file":"static/js/main.91c3f128.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/plus.6cb6e5fc.svg\";","module.exports = __webpack_public_path__ + \"static/media/cross.5fe0db66.svg\";","import React from 'react';\r\n\r\nconst ColumnTitle = props => {\r\n\tconst titleDiv = <div className = 'column-title'>\r\n\t\t\t\t\t     <div className = 'column-title__text title' \r\n\t\t\t\t\t     \t  onClick = { props.openChangeForm }\r\n\t\t\t\t\t     \t  data-value = { props.title }>{ props.title }</div>\r\n\t\t\t\t\t\t <button className = 'button-delete' \r\n\t\t\t\t\t\t \t\t title = 'Удалить список' \r\n\t\t\t\t\t\t \t\t onClick = { () => props.deleteColumn(props.columnId) }>\r\n\t\t\t\t\t\t     <img src = { props.imgSrc } alt = 'Изображение' />\r\n\t\t\t\t\t\t </button>\r\n\t\t\t\t\t </div>;\r\n\r\n\treturn props.title ? titleDiv : null\r\n};\r\n\r\nexport default ColumnTitle","import React from 'react';\r\n\r\nconst ColumnTaskListItem = props => {\r\n\treturn (\r\n\t\t<div className = 'column-task-list__item' id = { props.taskId } data-value = { props.text }>\r\n\t\t\t<div className = 'column-task-list__item-text task'\r\n\t\t\t\t id = { props.taskId } \r\n\t\t\t\t onClick = { props.openChangeForm }>{ props.text }</div>\r\n\t\t\t<button className = 'button-delete' title = 'Удалить задачу' onClick = { () => props.deleteTask(props.columnId, props.taskId) }>\r\n\t\t\t\t<img src = { props.imgSrc } alt = 'Изображение' />\r\n\t\t\t</button>\r\n\t\t</div>\r\n\t)\r\n};\r\n\r\nexport default ColumnTaskListItem","import React, { Component } from 'react';\r\n\r\nimport ColumnTaskListItem from './ColumnTaskListItem';\r\n\r\nexport default class ColumnTaskList extends Component {\r\n\r\n\trender() {\r\n\t\tconst { tasks, openChangeForm, deleteTask, columnId, imgSrc, id } = this.props;\r\n\t\tlet revisedTasks = [];\r\n\r\n\t\tif (tasks) {\r\n\t\t\trevisedTasks = tasks.map((task, id) => {\r\n\t\t\t\t\t\t       return <ColumnTaskListItem text = { task.text } \r\n\t\t\t\t\t\t\t\t\t\t                  key = { id } \r\n\t\t\t\t\t\t\t\t\t\t                  taskId = { id } \r\n\t\t\t\t\t\t\t\t\t\t                  columnId = { columnId }\r\n\t\t\t\t\t\t\t\t\t\t                  openChangeForm = { openChangeForm } \r\n\t\t\t\t\t\t\t\t\t\t                  deleteTask = { deleteTask }\r\n\t\t\t\t\t\t\t\t\t\t                  imgSrc = { imgSrc } />\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\treturn <div className = 'column-task-list' id = { id }>{ revisedTasks }</div>\r\n\t}\r\n}","import React from 'react';\r\n\r\nconst ColumnAdd = props => {\r\n\treturn (\r\n\t\t<div className = { props.class } onClick = { props.openForm }>\r\n\t\t\t<img src = { props.imgSrc } alt = 'Изображение' />\r\n\t\t\t<span>{ props.text }</span>\r\n\t\t</div>\r\n\t)\r\n};\r\n\r\nexport default ColumnAdd","import React from 'react';\r\n\r\nconst ColumnAddForm = props => {\r\n\treturn (\r\n\t\t<div className = { props.class }>\r\n\t\t\t{ props.tag === 'textarea' ?\r\n\t\t\t\t<textarea \r\n\t\t\t\t\tclassName = 'textfield task' \r\n\t\t\t\t\tplaceholder = { props.textfieldPlaceholder }\r\n\t\t\t\t\tref = { props.textfieldRef }>\r\n\t\t\t\t</textarea> :\r\n\t\t\t\t<input \r\n\t\t\t\t\tclassName = 'textfield title' \r\n\t\t\t\t\tplaceholder = { props.columnTextfieldPlaceholder }\r\n\t\t\t\t\tref = { props.textfieldRef }>\r\n\t\t\t\t</input>\r\n\t\t\t}\r\n\t\t\t<div className = 'column-add-form__buttons'>\r\n\t\t\t\t<button className = 'column-add-form__buttons-add' onClick = { props.addValue }>{ props.text }</button>\r\n\t\t\t\t<button className = 'button-close' title = 'Закрыть поле ввода' onClick = { props.openForm }>\r\n\t\t\t\t\t<img src = { props.imgSrc } alt = 'Изображение' />\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n};\r\n\r\nexport default ColumnAddForm","import React, { Component } from 'react';\r\n\r\nimport ColumnTitle from './ColumnTitle';\r\nimport ColumnTaskList from './ColumnTaskList';\r\nimport ColumnAdd from './ColumnAdd';\r\nimport ColumnAddForm from './ColumnAddForm';\r\n\r\nconst plusImg = require('../../img/plus.svg');\r\nconst crossImg = require('../../img/cross.svg');\r\n\r\nexport default class Column extends Component {\r\n\r\n\ttextfieldRef = React.createRef();\r\n\r\n\tstate = {\r\n\t\taddFormOpen: false,\r\n\t};\r\n\r\n\topenAddForm = () => {\r\n\t\tconst textfield = this.textfieldRef.current;\r\n\r\n\t\ttextfield.value = '';\r\n\t\ttextfield.focus();\r\n\r\n\t\tthis.setState(({ addFormOpen }) => ({ addFormOpen: !addFormOpen }));\r\n\t};\r\n\r\n\topenChangeForm = event => {\r\n\t\tif (event.target.dataset.clicked === 'true') return;\r\n\t\tthis.props.stopDrag();\r\n\r\n\t\tconst target = event.target;\r\n\t\ttarget.dataset.clicked = true;\r\n\t\ttarget.dataset.value = target.innerText.trim();\r\n\r\n\t\tlet textfield = null;\r\n\r\n\t\tif (target.classList.contains('title')) {\r\n\t\t\ttextfield = this.replaceElement(target, 'input', 'textfield title');\r\n\t\t} else if (target.classList.contains('task')) {\r\n\t\t\ttextfield = this.replaceElement(target, 'textarea', 'textfield task');\r\n\t\t}\r\n\r\n\t\ttextfield.focus();\r\n\r\n\t\tthis.changeValueFunc = () => this.changeValue(textfield, target);\r\n\t\twindow.addEventListener('click', this.changeValueFunc);\r\n\t};\r\n\r\n\r\n\taddValue = () => {\r\n\t\tconst textfield = this.textfieldRef.current;\r\n\t\tconst columnId = this.props.id;\r\n\t\tconst value = textfield.value.trim();\r\n\r\n\t\tif (!value) return;\r\n\r\n\t\tthis.openAddForm();\r\n\r\n\t\tif (textfield.classList.contains('task')) {\r\n\t\t\tthis.props.addColumnTask(value, columnId);\r\n\t\t} \r\n\r\n\t\tif (textfield.classList.contains('title')) {\r\n\t\t\tthis.props.addNewColumn(value, columnId);\r\n\t\t}\r\n\r\n\t\ttextfield.value = '';\r\n\t};\r\n\r\n\tchangeValue = (textfield, target) => {\r\n\t\tif (document.activeElement !== textfield) {\r\n\t\t\tconst columnId = this.props.id;\r\n\t\t\tconst taskId = textfield.id;\r\n\t\t\tconst value = textfield.value.trim();\r\n\t\t\t\r\n\t\t\tif (value === '') {\r\n\t\t\t\ttextfield.value = target.dataset.value;\r\n\t\t\t} else {\r\n\t\t\t\tif (textfield.classList.contains('title')) {\r\n\t\t\t\t\tthis.props.updateColumnTitle(value, columnId);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (textfield.classList.contains('task')) {\r\n\t\t\t\t\tthis.props.updateColumnTask(value, columnId, taskId);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\ttextfield.dataset.clicked = false;\r\n\t\t\ttextfield.dataset.value = value;\r\n\r\n\t\t\tthis.replaceElement(textfield, 'div', target.className);\r\n\t\t\tthis.props.startDrag();\r\n\t\t\twindow.removeEventListener('click', this.changeValueFunc);\r\n\t\t}\r\n\t};\r\n\r\n\treplaceElement = (source, newType, newClassName = null) => {\r\n\t\tconst newElement = document.createElement(newType);\r\n\t\tnewElement.dataset.clicked = source.dataset.clicked;\r\n\t\tnewElement.dataset.value = source.dataset.value;\r\n\r\n\t\tif (newClassName) newElement.className = newClassName;\r\n\t\tif (newElement.classList.contains('title') === false) newElement.id = source.id;\r\n\r\n\t\tnewElement.addEventListener('click', this.openChangeForm);\r\n\r\n\t\tif (source.tagName === 'INPUT' || source.tagName === 'TEXTAREA') {\r\n\t\t\tnewElement.innerText = source.value;\r\n\t\t} else {\r\n\t\t\tnewElement.value = source.innerText;\r\n\t\t}\r\n\r\n\t\tsource.replaceWith(newElement);\r\n\r\n\t\treturn newElement\r\n\t};\r\n\r\n\trender() {\r\n\t\tconst { addFormOpen } = this.state;\r\n\t\tconst { tasks, title, deleteColumnTask, deleteColumn, id } = this.props;\r\n\r\n\t\tconst addFormTag = !title ? 'input' : 'textarea';\r\n\t\tconst addBtnText = !title ? 'Добавить еще одну колонку' : 'Добавить еще одну карточку';\r\n\t\tconst addFormBtnText = !title ? 'Добавить колонку' : 'Добавить карточку';\r\n\t\tconst textfieldPlaceholder = !title ? 'Введите название колонки' : 'Введите название карточки';\r\n\r\n\t\tconst addBtnClass = addFormOpen ? 'column-add-btn hidden' : 'column-add-btn';\r\n\t\tconst addFormClass = addFormOpen ? 'column-add-form' : 'column-add-form hidden';\r\n\r\n\t\treturn (\r\n\t\t\t<div className = 'column'>\r\n\t\t\t\t<ColumnTitle openChangeForm = { this.openChangeForm }\r\n\t\t\t\t\t\t\t deleteColumn = { deleteColumn }\r\n\t\t\t\t\t\t\t imgSrc = { crossImg }\r\n\t\t\t\t\t\t\t title = { title } \r\n\t\t\t\t\t\t\t columnId = { id } />\r\n\r\n\t\t\t\t{ title ? <ColumnTaskList key = { Math.random() }\r\n\t\t\t\t\t\t\t\t\t\t  id = { id }\r\n\t\t\t\t\t\t\t\t\t\t  tasks = { tasks } \r\n\t\t\t\t\t\t\t\t\t\t  columnId = { id }\r\n\t\t\t\t\t\t\t\t\t      openChangeForm = { this.openChangeForm } \r\n\t\t\t\t\t\t\t\t\t      deleteTask = { deleteColumnTask }\r\n\t\t\t\t\t\t\t\t \t      imgSrc = { crossImg } /> : null\r\n\t\t\t\t}\r\n\r\n\t\t\t\t<ColumnAdd class = { addBtnClass }\r\n\t\t\t\t\t       text = { addBtnText }\r\n\t\t\t\t\t       openForm = { this.openAddForm } \r\n\t\t\t\t\t       imgSrc = { plusImg } />\r\n\r\n\t\t\t\t<ColumnAddForm tag = { addFormTag }\r\n\t\t\t\t\t           class = { addFormClass }\r\n\t\t\t\t\t           textfieldPlaceholder = { textfieldPlaceholder }\r\n\t\t\t\t\t\t\t   text = { addFormBtnText }\r\n\t\t\t\t\t\t\t   textfieldRef = { this.textfieldRef }\r\n\t\t\t\t\t\t\t   addValue = { this.addValue }\r\n\t\t\t\t\t\t\t   openForm = { this.openAddForm }\r\n\t\t\t\t\t\t\t   imgSrc = { crossImg } />\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}","import React, { Component, Fragment } from 'react';\r\n\r\nimport Column from './Column/Column';\r\n\r\nconst itemShadow = document.createElement('div');\r\nitemShadow.id = 'column-task-list__item-shadow';\r\n\r\nexport default class DragManager extends Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.dragItem = {};\r\n\t\tthis.shift = {};\r\n\r\n\t\tthis.dragItemClass = 'column-task-list__item';\r\n\t\tthis.dragAreaClass = 'column-task-list';\r\n\r\n\t\tthis.isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/.test(navigator.userAgent);\r\n\t};\r\n\r\n\tstart = () => {\r\n\t\tif (this.isMobile) {\r\n\t\t\twindow.addEventListener('touchstart', this.checkMobileDrag);\r\n\t\t} else {\r\n\t\t\twindow.addEventListener('mousedown', this.dragStart);\r\n\t\t\twindow.addEventListener('mousemove', this.drag);\r\n\t\t\twindow.addEventListener('mouseup', this.dragEnd);\r\n\t\t}\r\n\t};\r\n\r\n\tstop = () => {\r\n\t\tif (this.isMobile) {\r\n\t\t\twindow.removeEventListener('touchstart', this.dragStart);\r\n\t\t\twindow.removeEventListener('touchmove', this.drag);\r\n\t\t\twindow.removeEventListener('touchend', this.dragEnd);\r\n\t\t} else {\r\n\t\t\twindow.removeEventListener('mousedown', this.dragStart);\r\n\t\t\twindow.removeEventListener('mousemove', this.drag);\r\n\t\t\twindow.removeEventListener('mouseup', this.dragEnd);\r\n\t\t}\r\n\t};\r\n\r\n\tcancelMobileDrag = () => {\r\n\t\tclearTimeout(this.touchId);\r\n\r\n\t\twindow.removeEventListener('touchend', this.cancelMobileDrag);\r\n \t\twindow.removeEventListener('touchmove', this.cancelMobileDrag);\r\n\t};\r\n\r\n\tcheckMobileDrag = event => {\r\n\t\tthis.touchId = setTimeout(() => this.dragStart(event), 170);\r\n\r\n\t\twindow.addEventListener('touchend', this.cancelMobileDrag, { once: true });\r\n\t\twindow.addEventListener('touchmove', this.cancelMobileDrag, { once: true });\r\n\t};\r\n\r\n\tdragStart = event => {\r\n\t\tconst mainWrap = this.props.mainWrap;\r\n\r\n\t\tif (this.isMobile) {\r\n\t\t\tif (event.which !== 0 || event.touches.length > 1 || !this.findElement(event, this.dragItemClass)) return;\r\n\r\n\t\t\twindow.addEventListener('touchmove', this.drag);\r\n\t\t\twindow.addEventListener('touchend', this.dragEnd);\r\n\t\t} else {\r\n\t\t\tif (event.which !== 1 || !this.findElement(event, this.dragItemClass)) return;\r\n\t\t}\r\n\r\n\t\tif (this.isMobile) {\r\n\t\t\tmainWrap.style.overflowX = 'hidden';\r\n\t\t\tmainWrap.style.overflowY = 'hidden';\r\n\t\t}\r\n\t\t\r\n\t\tconst dragItem = this.dragItem;\r\n\r\n\t\tdragItem.item = this.findElement(event, this.dragItemClass);\r\n\r\n\t\tdragItem.item.style.width = dragItem.item.getBoundingClientRect().width + 'px';\r\n\t\tdragItem.item.style.height = dragItem.item.getBoundingClientRect().height + 'px';\r\n\r\n\t\tdragItem.item.clientX = this.isMobile ? event.targetTouches[0].clientX : event.clientX;\r\n\t\tdragItem.item.clientY = this.isMobile ? event.targetTouches[0].clientY : event.clientY;\r\n\r\n\t\tif (this.isMobile) {\r\n\t\t\tthis.shift = {x: dragItem.item.getBoundingClientRect().left - event.targetTouches[0].clientX, \r\n\t\t\t\t\t      y: dragItem.item.getBoundingClientRect().top - event.targetTouches[0].clientY};\r\n\t\t} else {\r\n\t\t\tthis.shift = {x: dragItem.item.getBoundingClientRect().left - event.clientX, \r\n\t\t\t\t     \t  y: dragItem.item.getBoundingClientRect().top - event.clientY};\r\n\t\t}\r\n\t};\r\n\r\n\tdrag = event => {\r\n\t\tif (!this.dragItem.item) return;\r\n\r\n\t\tthis.checkForScroll(event, 'window', 'horizontal');\r\n\t\tthis.checkForScroll(event, 'column', 'vertical');\r\n\r\n\t\tconst item = this.dragItem.item;\r\n\t\tconst shift = this.shift;\r\n\r\n\t\tconst dragAreaClass = this.dragAreaClass;\r\n\t\tconst dragItemClass = this.dragItemClass;\r\n\r\n\t\tconst dragArea = this.findElement(event, dragAreaClass);\r\n\t\tconst dragItem = this.findElement(event, dragItemClass);\r\n\r\n\t\tconst eventCoords = {x: this.isMobile ? event.targetTouches[0].clientX : event.clientX,\r\n\t\t\t\t\t\t\t y: this.isMobile ? event.targetTouches[0].clientY : event.clientY};\r\n\r\n\t\titem.style.position = 'fixed';\r\n\t\titem.style.top = eventCoords.y + shift.y + 'px';\r\n\t\titem.style.left = eventCoords.x + shift.x + 'px';\r\n\t\titem.style.transform = 'rotate(5deg)';\r\n\t\titem.style.pointerEvents = 'none';\r\n\t\titem.style.zIndex = 2;\r\n\r\n\t\tif (this.dragItem.area) {\r\n\t\t\tfor (let child of this.dragItem.area.children) {\r\n\t\t\t\tif (child.id === itemShadow.id && this.collideItems(item, child) === false) {\r\n\t\t\t\t\tchild.remove();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t  \t\r\n\t\tif (dragArea) {\r\n\t\t\tconst itemArea = dragArea;\r\n\r\n\t\t\tif (itemArea.children.length <= 1) {\r\n\t\t\t\titemArea.appendChild(itemShadow);\r\n\t\t\t\titemShadow.style.height = item.style.height;\r\n\r\n\t\t\t\tthis.dragItem.shadow = itemArea.children.namedItem(itemShadow.id);\r\n\t\t\t\tthis.dragItem.area = itemArea;\r\n\t\t\t} \r\n\t\t}\r\n\r\n\t\tif (dragItem) {\r\n\t\t\tconst collisionItem = dragItem;\r\n\t\t\tconst collisionItemList = collisionItem.parentElement;\r\n\r\n\t\t\tconst prevElement = collisionItem.previousElementSibling;\r\n\t\t\tconst nextElement = collisionItem.nextElementSibling;\r\n\r\n\t\t\tif (this.getCollideDirection(collisionItem) === 'top' && this.collideItems(item, collisionItem)) {\r\n\t\t\t\tif (prevElement && prevElement.id === itemShadow.id) return;\r\n\t\t\t\tif (nextElement && nextElement.id === itemShadow.id) nextElement.remove();\r\n\r\n\t\t\t\tcollisionItemList.insertBefore(itemShadow, collisionItem);\r\n\t\t\t}\r\n\r\n\t\t\tif (this.getCollideDirection(collisionItem) === 'bottom' && this.collideItems(item, collisionItem)) {\r\n\t\t\t\tif (nextElement && nextElement.id === itemShadow.id) return;\r\n\t\t\t\tif (prevElement && prevElement.id === itemShadow.id) prevElement.remove();\r\n\r\n\t\t\t\tthis.insertAfter(itemShadow, collisionItem);\r\n\t\t\t}\r\n\r\n\t\t\titemShadow.style.height = item.style.height;\r\n\r\n\t\t\tthis.dragItem.shadow = collisionItemList.children.namedItem(itemShadow.id);\r\n\t\t\tthis.dragItem.area = collisionItemList;\r\n\t\t\tthis.dragItem.collisionItem = collisionItem;\r\n\t\t}\r\n\t};\r\n\r\n\tdragEnd = event => {\r\n\t\tif (!this.dragItem.item) return;\r\n\r\n\t\tthis.cancelMobileDrag();\r\n\r\n\t\tconst item = this.dragItem.item;\r\n\t\tconst mainWrap = this.props.mainWrap;\r\n\r\n\t\tif (this.isMobile) mainWrap.style.overflowX = 'auto';\r\n\t\r\n\t\tif (itemShadow && itemShadow.parentElement) {\r\n\t\t\tconst prevColumnId = item.parentElement.id;\r\n\t\t\tconst prevTaskId = item.id;\r\n\r\n\t\t\tconst newColumnId = itemShadow.parentElement.id;\r\n\t\t\tconst tasks = [];\r\n\r\n\t\t\titem.setAttribute('style', 'none');\r\n\t\t\titemShadow.replaceWith(item);\r\n\r\n\t\t\tif (item.parentElement.children.length === 0) {\r\n\t\t\t\ttasks.push({ text: item.dataset.value }); \r\n\t\t\t} else {\r\n\t\t\t\tfor (let child of item.parentElement.children) {\r\n\t\t\t\t\tif (child !== itemShadow) tasks.push({ text: child.dataset.value });\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tthis.props.deleteColumnTask(prevColumnId, prevTaskId);\r\n\t\t\tthis.props.updateColumnTasks(tasks, newColumnId);\r\n\t\t} else {\r\n\t\t\titem.setAttribute('style', 'none');\r\n\t\t}\r\n\r\n\t\tthis.dragItem = {};\r\n\t};\r\n\r\n\tcheckForScroll = (event, target, type) => {\r\n\t\tif (target === 'window') clearTimeout(this.windowScrollId);\r\n\t\tif (target === 'column') clearTimeout(this.columnScrollId);\r\n\r\n\t\tconst speed = this.isMobile ? 10 : 20;\r\n\r\n\t\tif (this.adjustWindowScroll(event, target, type)) {\r\n\t\t\tif (target === 'window') this.windowScrollId = setTimeout(() => this.checkForScroll(event, target, type), speed);\r\n\t\t\tif (target === 'column') this.columnScrollId = setTimeout(() => this.checkForScroll(event, target, type), speed);\r\n\t\t}\r\n\t};\r\n\r\n\tadjustWindowScroll = (event, target, type) => {\r\n\t\tif (!this.dragItem.item) return;\r\n\r\n\t\tconst item = this.dragItem.item;\r\n\t\tconst mainWrap = this.props.mainWrap;\r\n\t\tconst itemCoords = item.getBoundingClientRect();\r\n\r\n\t\tif (target === 'window' && type === 'horizontal') {\r\n\t\t\tconst step = this.isMobile ? 5 : 30;\r\n\t\t\tconst documentCoords = {left: document.documentElement.clientWidth - document.documentElement.clientWidth,\r\n\t\t\t\t\t\t\t\t\tright: document.documentElement.clientWidth};\r\n\r\n\t\t\tif (this.isMobile) {\r\n\t\t\t\tif (itemCoords.right - 50 > documentCoords.right) mainWrap.scrollLeft += step;\r\n\t\t\t\tif (itemCoords.left + 50 < documentCoords.left) mainWrap.scrollLeft -= step;\r\n\r\n\t\t\t\treturn true\r\n\t\t\t} else {\r\n\t\t\t\tif (itemCoords.right + 20 > documentCoords.right) document.documentElement.scrollLeft += step;\r\n\t\t\t\tif (itemCoords.left - 20 < documentCoords.left) document.documentElement.scrollLeft -= step;\r\n\r\n\t\t\t\treturn true\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (target === 'column' && type === 'vertical') {\r\n\t\t\tconst step = this.isMobile ? 6 : 5;\r\n\r\n\t\t\tconst columnTitle = this.findElement(event, 'column-title');\r\n\t\t\tconst columnAddBtn = this.findElement(event, 'column-add-btn');\r\n\r\n\t\t\tif (columnTitle) {\r\n\t\t\t\tconst columnTitleCoords = columnTitle.getBoundingClientRect();\r\n\t\t\t\tconst clientY = this.isMobile ? event.targetTouches[0].clientY : event.clientY;\r\n\r\n\t\t\t\tif (clientY > columnTitleCoords.top && clientY < columnTitleCoords.bottom) {\r\n\t\t\t\t\tcolumnTitle.parentElement.scrollTop -= step;\t\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn true\r\n\t\t\t}\r\n\r\n\t\t\tif (columnAddBtn) {\r\n\t\t\t\tconst columnAddBtnCoords = columnAddBtn.getBoundingClientRect();\r\n\t\t\t\tconst clientY = this.isMobile ? event.targetTouches[0].clientY : event.clientY;\r\n\r\n\t\t\t\tif (clientY > columnAddBtnCoords.top && clientY < columnAddBtnCoords.bottom) {\r\n\t\t\t\t\tcolumnAddBtn.parentElement.scrollTop += step;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn true\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn false\r\n\t};\r\n\r\n\tfindElement = (event, attributeValue) => {\r\n\t\tconst eventCoords = {x: this.isMobile ? event.targetTouches[0].clientX : event.clientX,\r\n\t\t\t\t\t\t\t y: this.isMobile ? event.targetTouches[0].clientY : event.clientY};\r\n\r\n\t\tlet element = document.elementFromPoint(eventCoords.x, eventCoords.y);\r\n\r\n\t\tfor (; element && element !== document; element = element.parentElement) {\r\n\t\t\tif (element.classList.contains(attributeValue) || element.id === attributeValue) return element\t\t \r\n\t\t}\r\n\t};\r\n\r\n\tgetCollideDirection = item => {\r\n\t\tconst itemCoords = item.getBoundingClientRect();\r\n\t\tconst event = window.event;\r\n\t\tconst eventCoords = {x: this.isMobile ? event.targetTouches[0].clientX : event.clientX,\r\n\t\t\t\t\t\t\t y: this.isMobile ? event.targetTouches[0].clientY : event.clientY};\r\n\r\n\t\tif ((eventCoords.y > itemCoords.top) && \r\n\t\t\t(eventCoords.y < itemCoords.top + itemCoords.height / 2)) return 'top';\r\n\r\n\t\tif ((eventCoords.y < itemCoords.bottom) && \r\n\t\t\t(eventCoords.y > itemCoords.top + itemCoords.height / 2)) return 'bottom';\r\n\t};\r\n\r\n\tcollideItems = (item1, item2) => {\r\n\t\tconst item1Coords = item1.getBoundingClientRect();\r\n\t\tconst item2Coords = item2.getBoundingClientRect();\r\n\r\n\t\treturn !((item1Coords.top + item1Coords.height < item2Coords.top)\t   ||\r\n\t     \t\t (item1Coords.top > item2Coords.top + item2Coords.height)      ||\r\n\t     \t\t (item1Coords.left + item1Coords.width / 2 < item2Coords.left) ||\r\n\t     \t\t (item1Coords.left + item1Coords.width / 2 > item2Coords.right));\r\n\t};\r\n\r\n\tinsertAfter = (element, refElement) => {\r\n\t\treturn refElement.parentElement.insertBefore(element, refElement.nextElementSibling);\r\n\t};\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.start();\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { columns } = this.props;\r\n\r\n\t\treturn (\r\n\t\t\t<Fragment>\r\n\t\t\t\t{ columns ? (columns.map((column, id) => {\r\n\t\t\t\t\t\t\t\treturn <Column key = { id }\r\n\t\t\t\t\t\t\t   \t\t\t   \t   id = { id }\r\n\t\t\t\t\t\t\t               \t   title = { column.title }\r\n\t\t\t\t\t\t\t               \t   tasks = { column.tasks }\r\n\t\t\t\t\t\t\t               \t   startDrag = { this.start }\r\n\t\t\t\t\t\t\t               \t   stopDrag = { this.stop }\r\n\t\t\t\t\t\t\t               \t   { ...this.props } />\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t) : <Column key = { 0 } id = { 0 } { ...this.props } /> }\r\n\t\t\t</Fragment>\r\n\t\t)\r\n\t}\r\n}","import React from 'react';\r\n\r\nconst BackgroundImageBlock = props => {\r\n\treturn <div id = 'main-wrap__background-image-block' ref = { props.backgroundImageBlockRef }></div>\r\n};\r\n\r\nexport default BackgroundImageBlock","import React from 'react';\r\n\r\nconst BackgroundImageUploader = props => {\r\n\treturn (\r\n\t\t<div id = 'main-wrap-upload__background'>\r\n\t\t\t<div className = 'label-delete'>\r\n\t\t\t\t<label title = 'Удалить фон' \r\n\t\t\t\t\t   className = 'main-wrap-upload__background-label'\r\n\t\t\t\t\t   onClick = { props.deleteBackgroundImage }>+</label>\r\n\t\t\t</div>\r\n\t\t\t<div className = 'label-add'>\r\n\t\t\t\t<label title = 'Загрузить фон' \r\n\t\t\t\t\t   htmlFor = 'main-wrap-upload__background-input' \r\n\t\t\t\t\t   className = 'main-wrap-upload__background-label'>+</label>\r\n\t\t\t</div>\r\n\t\t\t<input type = 'file' id = 'main-wrap-upload__background-input' onChange = { props.addBackgroundImage }/>\r\n\t\t</div>\r\n\t)\r\n};\r\n\r\nexport default BackgroundImageUploader","import React, { Component, Fragment } from 'react';\nimport ReactDOM from 'react-dom';\n\nimport DragManager from './components/DragManager';\nimport BackgroundImageBlock from './components/BackgroundImage/BackgroundImageBlock';\nimport BackgroundImageUploader from './components/BackgroundImage/BackgroundImageUploader';\n\nimport './styles/main.css';\n\nconst mainWrap = document.getElementById('main-wrap');\n\nclass Board extends Component {\n\n\tbackgroundImageBlockRef = React.createRef();\n\n\tstate = {\n\t\tcolumns: JSON.parse(localStorage.getItem('columns')),\n\t\tbackgroundImageURL: localStorage.getItem('backgroundImageURL')\n\t};\n\n\taddNewColumn = (title, columnId) => {\n\t\tconst columns = Object.assign([], JSON.parse(localStorage.getItem('columns')));\n\t\tconst newColumn = { title: title, tasks: [] };\n\t\t\n\t\tcolumns.splice(columnId, 1, newColumn);\n\t\tcolumns.push({});\n\n\t\tlocalStorage.setItem('columns', JSON.stringify(columns));\n\t\tthis.setState({ columns: columns });\n\t};\n\n\taddColumnTask = (newTask, columnId) => {\n\t\tconst columns = Object.assign([], JSON.parse(localStorage.getItem('columns')));\n\t\tcolumns[columnId].tasks.push({ text: newTask });\n\n\t\tlocalStorage.setItem('columns', JSON.stringify(columns));\n\t\tthis.setState({ columns: columns });\n\t};\n\n\tupdateColumnTitle = (newTitle, columnId) => {\n\t\tconst columns = Object.assign([], JSON.parse(localStorage.getItem('columns')));\n\n\t\tif (columns[columnId] && columns[columnId].title) {\n\t\t\tcolumns[columnId].title = newTitle;\n\n\t\t\tlocalStorage.setItem('columns', JSON.stringify(columns));\n\t\t\tthis.setState({ columns: columns });\n\t\t}\n\t};\n\n\tupdateColumnTasks = (tasks, columnId) => {\n\t\tconst columns = Object.assign([], JSON.parse(localStorage.getItem('columns')));\n\n\t\tif (columns[columnId]) {\n\t\t\tcolumns[columnId].tasks = tasks;\n\n\t\t\tlocalStorage.setItem('columns', JSON.stringify(columns));\n\t\t\tthis.setState({ columns: columns });\n\t\t}\n\t};\n\n\tupdateColumnTask = (newTask, columnId, taskId) => {\n\t\tconst columns = Object.assign([], JSON.parse(localStorage.getItem('columns')));\n\t\t\n\t\tif (columns[columnId] && columns.length > 1 && columns[columnId].tasks[taskId]) {\n\t\t\tcolumns[columnId].tasks[taskId].text = newTask;\n\n\t\t\tlocalStorage.setItem('columns', JSON.stringify(columns));\n\t\t\tthis.setState({ columns: columns });\n\t\t}\n\t};\n\n\tdeleteColumnTask = (columnId, taskId) => {\n\t\tconst columns = Object.assign([], JSON.parse(localStorage.getItem('columns')));\n\t\tcolumns[columnId].tasks.splice(taskId, 1);\n\n\t\tlocalStorage.setItem('columns', JSON.stringify(columns));\n\t\tthis.setState({ columns: columns });\n\t};\n\n\tdeleteColumn = columnId => {\n\t\tconst columns = Object.assign([], JSON.parse(localStorage.getItem('columns')));\n\t\tcolumns.splice(columnId, 1);\n\n\t\tlocalStorage.setItem('columns', JSON.stringify(columns));\n\t\tthis.setState({ columns: columns });\n\t};\n\n\taddBackgroundImage = event => {\n\t\tconst image = event.target.files[0];\n\t\tconst reader = new FileReader();\n\t\tconst imageBlock = this.backgroundImageBlockRef.current;\n\n\t\tif (image.type.startsWith('image/')) {\n\t\t\treader.onload = () => {\n\t\t\t\timageBlock.style.background = `url(${reader.result})`;\n\t\t\t\timageBlock.style.backgroundSize = '100% 100%';\n\n\t\t\t\tlocalStorage.setItem('backgroundImageURL', JSON.stringify(reader.result));\n\t\t\t\tthis.setState({ backgroundImageURL: reader.result });\n\t\t\t};\n\n\t\t\treader.readAsDataURL(image);\n\t\t}\n\t};\n\n\tdeleteBackgroundImage = () => {\n\t\tconst imageBlock = this.backgroundImageBlockRef.current;\n\t\timageBlock.style.background = 'none';\n\t\t\n\t\tlocalStorage.setItem('backgroundImageURL', '');\t\n\t\tthis.setState({ backgroundImageURL: '' });\n\t};\n\n\tcomponentDidMount() {\n\t\tconst imageBlock = this.backgroundImageBlockRef.current;\n\t\tconst imageURL = localStorage.getItem('backgroundImageURL');\n\n\t\tif (imageURL) {\n\t\t\timageBlock.style.background = `url(${imageURL})`;\n\t\t\timageBlock.style.backgroundSize = '100% 100%';\n\t\t}\n\t}\n\n\trender() {\n\t\tconst { columns } = this.state;\n\t\t\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<DragManager columns = { columns }\n\t\t\t\t\t\t\t mainWrap = { mainWrap }\n\t\t\t\t\t\t\t addNewColumn = { this.addNewColumn } \n\t\t\t\t\t\t\t addColumnTask = { this.addColumnTask }\n\t\t\t\t\t\t\t updateColumnTasks = { this.updateColumnTasks }\n\t\t\t\t\t\t\t updateColumnTitle = { this.updateColumnTitle }\n\t\t\t\t\t\t\t updateColumnTask = { this.updateColumnTask } \n\t\t\t\t\t\t\t deleteColumnTask = { this.deleteColumnTask } \n\t\t\t\t\t\t\t deleteColumn = { this.deleteColumn } />\n\t\t\t\t<BackgroundImageBlock backgroundImageBlockRef = { this.backgroundImageBlockRef } />\n\t\t\t\t<BackgroundImageUploader addBackgroundImage = { this.addBackgroundImage } \n\t\t\t\t\t\t\t\t\t     deleteBackgroundImage = { this.deleteBackgroundImage }\n\t\t\t\t\t\t\t\t\t     backgroundImageBlockRef = { this.backgroundImageBlockRef } />\n\t\t\t</Fragment>\n\t\t)\n\t}\n}\n\nReactDOM.render(<Board />, mainWrap);\n"],"sourceRoot":""}